«Система управления конфигурациями»

ЦЕЛЬ: Получить практические навыки по использованию системы управления конфигурациями Ansible.

ЗАДАНИЕ:

Создать две локальных ВМ без графического интерфейса.
Установить сервер Ansible на ВМ1.

Подключить ВМ1 и ВМ2 к управлению через сервер Ansible. Проверить доступность хостов (ansible -m ping all).
Научиться устанавливать пакеты на управляемые ВМ с помощью Ansible.

Выбрать список из не менее трех любых пакетов и настроить установку этого списка пакетов отдельно на ВМ1, отдельно на ВМ2 и на группу хостов, состоящую из ВМ1 и ВМ2.

Настроить установку любой бд. (запуск через systemd, состояние запущена и включена в автозагрузку)

Настроить установку любого web-сервера (запуск через systemd, состояние запущена и включена в автозагрузку).

Выбрать любой готовый плейбук из репозитория Ansible Galaxy и продемонстрировать работу с ним. Уметь рассказать возможности данного плейбука.

ВНИМАНИЕ Управление конфигурацией должно осуществляться на ВМ2 только средствами Ansible сервера на ВМ1 (открываете консоль на ВМ1 → вводите команды Ansible → результат смотрим на ВМ2). Сервисы из пунктов 6,7 должены устанавливаться через роль, стартовать после отработки роли. Также установленные сервисы должны стартовать через автозагрузку systemd. Особое внимание уделить решению проблемы повышения прав. Список основных директив Ansible для работы с правами:

- become – указывает на необходимость эскалации привилегий;
- become_method – метод эскалации привилегий;
- become_user — пользователь под которым мы заходим с помощью become_method;

Примеры

- Управление nginx (уметь управлять конфигурацией nginx);
- управление БД Postgresql (создание бд, создание пользователей, создание дампа) и/или
- управление любым другим инструментом, который вы используете в рабочих/учебных проектах.