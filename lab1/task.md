Лабораторная работа 1

Цель: изучить создание виртуальных машин и типов сетевых подключений.
Студент должен знать различия типов сетевых соединений и уметь их использовать.

Развернуть локально стенд из нескольких виртуальных машин (ВМ). Описание стенда:
 - ВМ1 с двумя сетевыми интерфейсами. 
            1-й сетевой интерфейс подключен к сети интернет, так же как и хостовая ОС
            2-й сетевой интерфейс подключен к локальной сети внутри гипервизора
 - ВМ2 с одним сетевым интерфейсом.
  интерфейс подключен к локальной сети внутри гипервизора
На виртуальных машинах должен быть установлен любой из дистрибутивов Linux. (рекомендуется Ubuntu22-24 server)


Задание 1. 

Требуется настроить ВМ1 так, чтобы она выполняла функцию пограничного маршрутизатора,
 где WAN - это интерфейс 1, а LAN - интерфейс 2.
Шлюз по умолчанию для ВМ2 это IP интерфейса 2 от ВМ1.
После успешной настройки с ВМ2 должен быть доступ в интернет.


Задание 2. 

На ВМ2 развернуть APACHE на порту 80.
На ВМ1 развернуть NGINX на порту 80.
Требуется настроить виртуальные машины так, чтобы при обращении с хостовой (где хостятся ВМ) машины на IP адрес 
ВМ1 1-го сетевого интерфейса должна выводиться дефолтная страница Apache, развернутого на ВМ2. 
nginx как front-end к apache!

Задание 3.
Настроить проброс портов. portforwarding.
При обращении на порт 2222 (или любой другой порт на ваш выбор)  wan интерфейса вм1 запрос должен  улететь на 22 порт вм2 и мы должны получить доступ к ssh vm2.

Реализовать используя iptables.

P.S. все рабочие конфигурации и сервисы должны работать после перезагрузки!!!

При сдаче нужно будет рассказать о том как настраивается маршрутизатор. Понимать  принципы работы фаервола.
Ориентироваться в открытых_закрытых_проброшенных портах.
Ориентироваться в базовых настройках apache и nginx.
Знать расположение  конфигурационных файлов. уверенно  управлять запуском сервиса.
Ориентироваться и уметь перенастраивать порты для  работы вебсерверов по требованию.